<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8"></meta>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
  <!-- The above 3 meta tags must come first in the head; any other head content must come after these tags -->

  <title>Fiszki</title>

    <link href="/css/common.css" rel="stylesheet" media="screen" />
    <link href="/css/singing.css" rel="stylesheet" media="screen" />
    <link href="/webjars/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
 <!--   <link href="/webjars/angularjs/1.5.5/angular.js" type="text/javascript"/> -->
    <link href="/webjars/jquery/2.0.3/jquery.js" type="text/javascript"/>
    <script type="text/javascript" src="/webjars/angularjs/1.5.5/angular.js"></script>

</head>



<body ng-app="app" ng-controller="home as home">
<div class="container" ng-show="!home.authenticated">
    <h1 align="center">Fiszki</h1>
    <div class="container">

        <form class="form-signin">
            <button class="btn btn-lg btn-primary btn-block" type="submit">Zaloguj sie przez facebook</button>
        </form>

    </div>
</div>
<div class="container" ng-show="home.authenticated">
	Logged in as: <span ng-bind="home.user"></span>
</div>

<script type="text/javascript">
    angular
            .module("app", []).controller("home", function($http) {
        var self = this;
        $http.get("/user").success(function(data) {
            self.user = data.name;
            self.authenticated = true;
        }).error(function() {
            self.user = "N/A";
            self.authenticated = false;
        });
    });
</script>
</body>
</html>